<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Consolidated View</title>
    <link rel="stylesheet" href="src/css/main.css">
    <link rel="stylesheet" href="src/css/components.css">
    <link rel="stylesheet" href="src/css/responsive.css">
</head>
<body>
    <div style="padding: 20px;">
        <h1>Testing Consolidated View Controls</h1>
        
        <!-- View Controls -->
        <div class="view-controls">
            <div class="view-toggle-section">
                <label class="toggle-switch">
                    <input type="checkbox" id="consolidated-view-toggle">
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Consolidated View</span>
                </label>
            </div>
            <div class="card-size-section" id="card-size-section" style="display: none;">
                <label for="card-size-slider">Card Size:</label>
                <input type="range" id="card-size-slider" min="80" max="200" value="120" step="10">
                <span class="size-value" id="card-size-value">120px</span>
            </div>
        </div>
        
        <!-- Test Cards Container -->
        <div class="session-cards" id="session-cards" style="margin-top: 20px;">
            <!-- Test card in normal view -->
            <div class="session-card enhanced">
                <div class="session-card-content">
                    <div class="card-image-section">
                        <div class="card-image-container">
                            <div class="card-image-placeholder">
                                <div class="placeholder-icon">üÉè</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-details-section">
                        <div class="card-header">
                            <div class="card-name">Blue-Eyes White Dragon</div>
                            <div class="card-enhancement-indicator">‚ú®</div>
                        </div>
                        <div class="card-info-grid">
                            <div class="info-row">
                                <span class="info-label">Rarity:</span>
                                <span class="info-value">Ultra Rare</span>
                            </div>
                        </div>
                        <div class="card-pricing">
                            <div class="pricing-info">
                                <div class="price-item">
                                    <span class="price-label">TCG Low:</span>
                                    <span class="price-value">$2.50</span>
                                </div>
                                <div class="price-item primary">
                                    <span class="price-label">TCG Market:</span>
                                    <span class="price-value">$4.99</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-controls">
                        <div class="quantity-controls">
                            <button class="btn btn-sm quantity-btn">-</button>
                            <span class="quantity-display">1</span>
                            <button class="btn btn-sm quantity-btn">+</button>
                        </div>
                        <div class="action-controls">
                            <button class="btn btn-sm btn-danger remove-card">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Additional test cards for better grid demonstration -->
            <div class="session-card enhanced">
                <div class="session-card-content">
                    <div class="card-image-section">
                        <div class="card-image-container">
                            <div class="card-image-placeholder">
                                <div class="placeholder-icon">üÉè</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-details-section">
                        <div class="card-header">
                            <div class="card-name">Dark Magician</div>
                            <div class="card-enhancement-indicator">‚ú®</div>
                        </div>
                        <div class="card-info-grid">
                            <div class="info-row">
                                <span class="info-label">Rarity:</span>
                                <span class="info-value">Super Rare</span>
                            </div>
                        </div>
                        <div class="card-pricing">
                            <div class="pricing-info">
                                <div class="price-item">
                                    <span class="price-label">TCG Low:</span>
                                    <span class="price-value">$1.25</span>
                                </div>
                                <div class="price-item primary">
                                    <span class="price-label">TCG Market:</span>
                                    <span class="price-value">$3.99</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-controls">
                        <div class="quantity-controls">
                            <button class="btn btn-sm quantity-btn">-</button>
                            <span class="quantity-display">2</span>
                            <button class="btn btn-sm quantity-btn">+</button>
                        </div>
                        <div class="action-controls">
                            <button class="btn btn-sm btn-danger remove-card">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="session-card enhanced">
                <div class="session-card-content">
                    <div class="card-image-section">
                        <div class="card-image-container">
                            <div class="card-image-placeholder">
                                <div class="placeholder-icon">üÉè</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-details-section">
                        <div class="card-header">
                            <div class="card-name">Red-Eyes Black Dragon</div>
                            <div class="card-enhancement-indicator">‚ú®</div>
                        </div>
                        <div class="card-info-grid">
                            <div class="info-row">
                                <span class="info-label">Rarity:</span>
                                <span class="info-value">Rare</span>
                            </div>
                        </div>
                        <div class="card-pricing">
                            <div class="pricing-info">
                                <div class="price-item">
                                    <span class="price-label">TCG Low:</span>
                                    <span class="price-value">$0.75</span>
                                </div>
                                <div class="price-item primary">
                                    <span class="price-label">TCG Market:</span>
                                    <span class="price-value">$1.50</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-controls">
                        <div class="quantity-controls">
                            <button class="btn btn-sm quantity-btn">-</button>
                            <span class="quantity-display">1</span>
                            <button class="btn btn-sm quantity-btn">+</button>
                        </div>
                        <div class="action-controls">
                            <button class="btn btn-sm btn-danger remove-card">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Test functionality
        const toggle = document.getElementById('consolidated-view-toggle');
        const cardSizeSection = document.getElementById('card-size-section');
        const cardSizeSlider = document.getElementById('card-size-slider');
        const cardSizeValue = document.getElementById('card-size-value');
        const sessionCards = document.getElementById('session-cards');
        
        toggle.addEventListener('change', function() {
            if (this.checked) {
                cardSizeSection.style.display = 'flex';
                sessionCards.classList.add('consolidated');
                sessionCards.style.setProperty('--card-size', '120px');
                
                // Convert to consolidated view
                const cards = sessionCards.querySelectorAll('.session-card.enhanced');
                const testCards = [
                    { name: 'Blue-Eyes White Dragon', rarity: 'Ultra Rare', low: '$2.50', market: '$4.99', quantity: 1 },
                    { name: 'Dark Magician', rarity: 'Super Rare', low: '$1.25', market: '$3.99', quantity: 2 },
                    { name: 'Red-Eyes Black Dragon', rarity: 'Rare', low: '$0.75', market: '$1.50', quantity: 1 }
                ];
                
                cards.forEach((card, index) => {
                    const cardData = testCards[index] || testCards[0];
                    card.className = 'session-card consolidated';
                    card.innerHTML = `
                        <div class="card-image-container">
                            <div class="card-image-placeholder">
                                <div class="placeholder-icon">üÉè</div>
                            </div>
                        </div>
                        <div class="card-info">
                            <div class="card-name">${cardData.name}</div>
                            <div class="card-rarity">${cardData.rarity}</div>
                            <div class="card-prices">
                                <div class="price tcg-low">Low: ${cardData.low}</div>
                                <div class="price tcg-market">Market: ${cardData.market}</div>
                            </div>
                        </div>
                        ${cardData.quantity > 1 ? `<div class="quantity-badge">${cardData.quantity}</div>` : ''}
                    `;
                });
            } else {
                cardSizeSection.style.display = 'none';
                sessionCards.classList.remove('consolidated');
                sessionCards.style.removeProperty('--card-size');
                location.reload(); // Simple reload for this test
            }
        });
        
        cardSizeSlider.addEventListener('input', function() {
            const size = this.value;
            cardSizeValue.textContent = size + 'px';
            sessionCards.style.setProperty('--card-size', size + 'px');
        });
    </script>
</body>
</html>